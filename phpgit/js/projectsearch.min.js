var oldSearchValue="";var searchTimeout=null;function runSearch(){var a=$("input.projectSearchBox").val().toLowerCase();oldSearchValue=a;clearTimeout(searchTimeout);searchTimeout=null;if(a.length==0){$("a.clearSearch").hide()}else{$("a.clearSearch").show()}var d=[];var c=false;$("table.projectList tr.projectRow").each(function(){if(a.length<1){$(this).show();c=true;return}var h="";var f=$(this).find("td.projectName a").text();if(f.length>0){if(f.toLowerCase().indexOf(a)!=-1){$(this).show();c=true;h=$(this).data("category");if(h){if(jQuery.inArray(h,d)==-1){d.push(h)}}return}}var i=$(this).find("td.projectDescription a").text();if(i.length>0){if(i.toLowerCase().indexOf(a)!=-1){$(this).show();c=true;h=$(this).data("category");if(h){if(jQuery.inArray(h,d)==-1){d.push(h)}}return}}var g=$(this).find("td.projectOwner em").text();if(g.length>0){if(g.toLowerCase().indexOf(a)!=-1){$(this).show();c=true;h=$(this).data("category");if(h){if(jQuery.inArray(h,d)==-1){d.push(h)}}return}}$(this).hide()});$("table.projectList tr.categoryRow").each(function(){if(a.length<1){$(this).show();return}var f=$(this).children("th.categoryName").text();if(f.length>0){if(jQuery.inArray(f,d)!==-1){$(this).show()}else{$(this).hide()}}});var b=$("div.message");if(c){b.hide();$("tr.projectHeader").show()}else{if(b.length==0){b=jQuery(document.createElement("div"));b.addClass("message");b.appendTo($("table.projectList"))}var e=GITPHP_RES_NO_MATCHES_FOUND.replace(new RegExp("%1"),$("input.projectSearchBox").val());b.text(e);b.show();$("tr.projectHeader").hide()}$("img.searchSpinner").hide()}function initProjectSearch(){$("#projectSearchForm").keypress(function(d){if(d.which==13){return false}});var c=$("table.projectList tr");if(c.length==0){return}var b="";c.each(function(){if($(this).hasClass("categoryRow")){b=$(this).children("th.categoryName").text()}else{if($(this).hasClass("projectRow")){if(b.length>0){$(this).data("category",b)}}}});$("a.clearSearch").click(function(){$("img.searchSpinner").show();$("input.projectSearchBox").val("");oldSearchValue="";runSearch();return false});var a=function(){if($("input.projectSearchBox").val()!=oldSearchValue){$("img.searchSpinner").show();if(searchTimeout!=null){clearTimeout(searchTimeout)}setTimeout("runSearch()",500)}};$("input.projectSearchBox").keyup(a).bind("input paste",a)}$(document).ready(function(){initProjectSearch()});